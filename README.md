# Claude Code ç§¯åˆ†ç›‘æ§ç³»ç»Ÿ (CCCMU)

ä¸€ä¸ªç”¨äºå®æ—¶ç›‘æ§å’Œå¯è§†åŒ– Claude Code ç§¯åˆ†ä½¿ç”¨é‡çš„ Web åº”ç”¨ç¨‹åºã€‚

## ğŸ“¸ é¡¹ç›®æˆªå›¾

![Claude Code ç§¯åˆ†ç›‘æ§ç³»ç»Ÿç•Œé¢](docs/image.png)

*å®æ—¶ç›‘æ§ Claude Code ç§¯åˆ†ä½¿ç”¨é‡ï¼Œæ”¯æŒå¤šæ—¶é—´èŒƒå›´æŸ¥çœ‹å’Œè¶‹åŠ¿åˆ†æ*

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **å®æ—¶ç›‘æ§**: é€šè¿‡ SSE (Server-Sent Events) å®æ—¶å±•ç¤ºç§¯åˆ†ä½¿ç”¨é‡å˜åŒ–æ›²çº¿
- **å¯è§†åŒ–å›¾è¡¨**: ä½¿ç”¨ ECharts ç”Ÿæˆç¾è§‚çš„æŠ˜çº¿å›¾å±•ç¤ºç§¯åˆ†ä½¿ç”¨è¶‹åŠ¿
- **å¤šæ—¶é—´èŒƒå›´**: æ”¯æŒæŸ¥çœ‹æœ€è¿‘ 1å°æ—¶ã€2å°æ—¶ã€3å°æ—¶ã€6å°æ—¶ã€12å°æ—¶ã€24å°æ—¶çš„ä½¿ç”¨æƒ…å†µ
- **å¤šæ¨¡å‹å¯¹æ¯”**: æ”¯æŒåŒæ—¶å±•ç¤ºä¸åŒ Claude æ¨¡å‹çš„ç§¯åˆ†ä½¿ç”¨æƒ…å†µ
- **é…ç½®ç®¡ç†**: æ”¯æŒè‡ªå®šä¹‰æ•°æ®è·å–é—´éš”å’Œ Cookie é…ç½®
- **å•æ–‡ä»¶éƒ¨ç½²**: å‰ç«¯é™æ€æ–‡ä»¶å†…åµŒåˆ°åç«¯äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œéƒ¨ç½²ç®€å•

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Bun** - ç°ä»£ JavaScript è¿è¡Œæ—¶å’ŒåŒ…ç®¡ç†å™¨
- **Vite** - ç°ä»£å‰ç«¯æ„å»ºå·¥å…·
- **React 19** + **TypeScript** - UI æ¡†æ¶
- **TailwindCSS 4** - åŸå­åŒ– CSS æ¡†æ¶
- **ECharts** - æ•°æ®å¯è§†åŒ–å›¾è¡¨åº“
- **Lucide React** - ç°ä»£å›¾æ ‡åº“

### åç«¯æŠ€æœ¯æ ˆ
- **Go 1.23** - åç«¯ç¼–ç¨‹è¯­è¨€
- **Fiber v2** - é«˜æ€§èƒ½ Web æ¡†æ¶
- **BadgerDB** - åµŒå…¥å¼ NoSQL æ•°æ®åº“
- **Resty** - HTTP å®¢æˆ·ç«¯åº“
- **Gocron** - å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨
- **Go Embed** - é™æ€æ–‡ä»¶åµŒå…¥

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
cccmu/
â”œâ”€â”€ server/                 # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ client/            # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ database/          # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ handlers/          # HTTP å¤„ç†å™¨
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ web/               # é™æ€æ–‡ä»¶åµŒå…¥
â”‚   â””â”€â”€ main.go           # ç¨‹åºå…¥å£
â”œâ”€â”€ web/                   # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/   # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ api/          # API å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ types/        # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ dist/             # å‰ç«¯æ„å»ºè¾“å‡º
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ Makefile              # æ„å»ºè„šæœ¬
â””â”€â”€ README.md
```

## ğŸ”§ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Go**: >= 1.23
- **Bun**: >= 1.0
- **Node.js**: >= 18 (å¯é€‰ï¼ŒBun å¯æ›¿ä»£)

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…é¡¹ç›®ä¾èµ–
make install
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
make dev-frontend

# å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨
make dev-backend

# åŒæ—¶å¯åŠ¨å‰åç«¯å¼€å‘ç¯å¢ƒ
make dev
```

### ç”Ÿäº§æ„å»º

```bash
# å®Œæ•´æ„å»ºé¡¹ç›®
make build
```

æ„å»ºå®Œæˆåä¼šç”Ÿæˆ `cccmu` å¯æ‰§è¡Œæ–‡ä»¶ï¼ŒåŒ…å«å®Œæ•´çš„å‰åç«¯åº”ç”¨ã€‚

### è¿è¡Œåº”ç”¨

```bash
# è¿è¡Œæ„å»ºå¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶
./cccmu
```

é»˜è®¤è®¿é—®åœ°å€: http://localhost:8080

## âš™ï¸ é…ç½®è¯´æ˜

### Cookie é…ç½®

1. è®¿é—® [Claude Code Dashboard](https://www.aicodemirror.com/dashboard/usage)
2. åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­å¤åˆ¶å®Œæ•´çš„ Cookie å­—ç¬¦ä¸²
3. åœ¨åº”ç”¨è®¾ç½®é¡µé¢ä¸­ç²˜è´´ Cookie ä¿¡æ¯

### æ•°æ®è·å–é—´éš”

æ”¯æŒé…ç½®ä»¥ä¸‹æ—¶é—´é—´éš”ï¼š
- 1 åˆ†é’Ÿï¼ˆé»˜è®¤ï¼‰
- 5 åˆ†é’Ÿ
- 10 åˆ†é’Ÿ
- 30 åˆ†é’Ÿ
- 1 å°æ—¶

### æ•°æ®å±•ç¤ºèŒƒå›´

æ”¯æŒä»¥ä¸‹æ—¶é—´èŒƒå›´ï¼š
- æœ€è¿‘ 1 å°æ—¶ï¼ˆé»˜è®¤ï¼‰
- æœ€è¿‘ 2 å°æ—¶
- æœ€è¿‘ 3 å°æ—¶
- æœ€è¿‘ 6 å°æ—¶
- æœ€è¿‘ 12 å°æ—¶
- æœ€è¿‘ 24 å°æ—¶

## ğŸ”Œ API æ¥å£

### æ•°æ®æ¥å£

- **ç§¯åˆ†æŸ¥è¯¢**: `https://www.aicodemirror.com/api/user/usage`
- **Cookie éªŒè¯**: `https://www.aicodemirror.com/api/user/usage/chart`

### SSE è¿æ¥

å‰ç«¯é€šè¿‡ä»¥ä¸‹ç«¯ç‚¹å»ºç«‹ SSE è¿æ¥æ¥æ”¶å®æ—¶æ•°æ®ï¼š
- **è¿æ¥åœ°å€**: `/api/sse`
- **äº‹ä»¶ç±»å‹**: `usage` - ç§¯åˆ†ä½¿ç”¨æ•°æ®

## ğŸ› ï¸ å¼€å‘å‘½ä»¤

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help

# ä»£ç æ ¼å¼åŒ–
make fmt

# ä»£ç æ£€æŸ¥
make lint

# è¿è¡Œæµ‹è¯•
make test

# æ¸…ç†æ„å»ºæ–‡ä»¶
make clean
```

## ğŸ“Š æ•°æ®æ ¼å¼

ç§¯åˆ†ä½¿ç”¨æ•°æ®ç»“æ„ï¼š
```json
{
  "id": 11048661,
  "type": "USAGE",
  "endpoint": "v1/messages",
  "statusCode": 200,
  "creditsUsed": 9,
  "createdAt": "2025-08-25T13:39:44.230Z",
  "model": "claude-sonnet-4-20250514"
}
```

## ğŸ” å®‰å…¨è¯´æ˜

- Cookie ä¿¡æ¯æœ¬åœ°å­˜å‚¨åœ¨ BadgerDB ä¸­
- å®šæœŸéªŒè¯ Cookie æœ‰æ•ˆæ€§
- æ— æ•ˆ Cookie ä¼šè‡ªåŠ¨åœæ­¢æ•°æ®è·å–å¹¶æç¤ºç”¨æˆ·æ›´æ–°

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·åœ¨ [GitHub Issues](https://github.com/leafney/cccmu/issues) ä¸­æå‡ºã€‚